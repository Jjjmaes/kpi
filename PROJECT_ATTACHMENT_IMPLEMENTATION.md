# 项目附件邮件发送功能实现方案

## 需求分析

- 在创建项目时可以上传附件
- 附件通过邮件发送给项目成员
- 附件不保存到服务器（节省存储空间）

## 技术方案

### 1. 前端实现
- 在创建项目表单中添加文件上传控件
- 使用 JavaScript FileReader API 将文件转换为 base64
- 将 base64 数据随项目创建请求一起发送到后端
- 限制文件大小（建议 10MB 以内）

### 2. 后端实现
- 接收 base64 编码的附件数据
- 在创建项目并分配成员后，发送邮件时附加文件
- 使用 Resend API 的附件功能
- 不将文件保存到磁盘

### 3. Resend API 附件格式
```javascript
{
  attachments: [
    {
      filename: 'example.pdf',
      content: Buffer.from(base64String, 'base64')
    }
  ]
}
```

## 实现步骤

1. **扩展邮件服务** - 添加附件支持
2. **修改项目创建表单** - 添加文件上传控件
3. **修改项目创建 API** - 接收附件数据
4. **集成邮件发送** - 在发送项目分配邮件时附加文件

## 注意事项

- 文件大小限制（Resend 通常限制 25MB）
- 文件类型验证（可选）
- 多个附件支持
- 错误处理（文件过大、格式不支持等）

